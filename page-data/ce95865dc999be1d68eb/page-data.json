{"componentChunkName":"component---src-templates-blog-template-js","path":"/ce95865dc999be1d68eb","result":{"data":{"site":{"siteMetadata":{"title":"Delog"}},"markdownRemark":{"html":"<p><a href=\"http://elm-lang.org/\">elm</a>でやってみるシリーズ1: ●を動かす。</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token import_statement\"><span class=\"token keyword\">import</span> Window</span>\n\n<span class=\"token hvariable\">pos</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Signal</span> <span class=\"token constant\">Int</span>\n<span class=\"token hvariable\">pos</span> <span class=\"token operator\">=</span><span class=\"token keyword\">let</span> <span class=\"token hvariable\">f</span> <span class=\"token operator\">=</span> <span class=\"token operator\">\\</span><span class=\"token hvariable\">tmp</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">tmp</span> `<span class=\"token builtin\">mod</span>` <span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">10</span>\n        <span class=\"token keyword\">in</span> <span class=\"token hvariable\">f</span> <span class=\"token operator\">&lt;~</span> <span class=\"token hvariable\">foldp</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">\\</span><span class=\"token hvariable\">it</span> <span class=\"token hvariable\">acc</span><span class=\"token operator\">-></span> <span class=\"token hvariable\">acc</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">fps</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">drawCircle</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Float</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Float</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Form</span>\n<span class=\"token hvariable\">drawCircle</span> <span class=\"token hvariable\">x</span> <span class=\"token hvariable\">y</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">move</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">,</span><span class=\"token hvariable\">y</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;|</span> <span class=\"token hvariable\">filled</span> <span class=\"token hvariable\">red</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">circle</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">drawMatrix</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Form</span><span class=\"token punctuation\">]</span>\n<span class=\"token hvariable\">drawMatrix</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">map</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">\\</span><span class=\"token hvariable\">x</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">drawLine</span> <span class=\"token operator\">&lt;|</span> <span class=\"token hvariable\">x</span><span class=\"token operator\">*</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">10</span><span class=\"token operator\">..</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token hvariable\">drawLine</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Float</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Form</span>\n<span class=\"token hvariable\">drawLine</span> <span class=\"token hvariable\">x</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">traced</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">solid</span> <span class=\"token hvariable\">blue</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span> <span class=\"token hvariable\">segment</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">x</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">main</span> <span class=\"token operator\">:</span> <span class=\"token constant\">Signal</span> <span class=\"token constant\">Element</span>\n<span class=\"token hvariable\">main</span><span class=\"token operator\">=</span><span class=\"token keyword\">let</span> <span class=\"token hvariable\">f</span> <span class=\"token operator\">=</span> <span class=\"token operator\">\\</span><span class=\"token hvariable\">w</span> <span class=\"token hvariable\">h</span> <span class=\"token hvariable\">p</span><span class=\"token operator\">-></span> <span class=\"token hvariable\">collage</span> <span class=\"token hvariable\">w</span> <span class=\"token hvariable\">h</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token hvariable\">drawCircle</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token hvariable\">toFloat</span> <span class=\"token hvariable\">p</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token operator\">++</span><span class=\"token hvariable\">drawMatrix</span><span class=\"token punctuation\">)</span>\n     <span class=\"token keyword\">in</span> <span class=\"token hvariable\">f</span> <span class=\"token operator\">&lt;~</span> <span class=\"token hvariable\">Window.width</span> <span class=\"token operator\">~</span> <span class=\"token hvariable\">Window.height</span> <span class=\"token operator\">~</span> <span class=\"token hvariable\">pos</span></code></pre></div>\n<iframe width=\"100%\" src=\"http://share-elm.com/sprout/53c8a01ee4b07afa6f983053/stable/view\">\n</iframe>\n# 実行する\n<p><a href=\"http://share-elm.com/sprout/53c8a01ee4b07afa6f983053/stable/view\">こちら</a>で実行できます。</p>\n<h1>感想</h1>\n<ul>\n<li>foldpは好き。</li>\n<li>inputに対応するSignalってグローバル変数じゃね?まあ「マウスがクリックされる」とか「時間が経過する」という事実はグローバルなんだが、それによって引き起こされるイベントもそうなる…。プログラムからその値を能動的に制御できないから変数とは呼べない…のかな。でもユーザがフィールドに値を入力したり、ラジオボタンをクリックしたり、という操作によって設定項目をリアクティブに変更したその結果の、Signalである設定項目って、どう見てもグローバル変数だよね。まだよくわからない。</li>\n</ul>\n<h1>関連エントリ</h1>\n<ul>\n<li><a href=\"http://uehaj.hatenablog.com/entry/2014/07/03/023808\">http://uehaj.hatenablog.com/entry/2014/07/03/023808</a></li>\n</ul>","frontmatter":{"date":"January 01, 1970","path":"/ce95865dc999be1d68eb","title":"Elmでやってみようシリーズ1","thumbnail":null,"metaDescription":null}}},"pageContext":{}}}