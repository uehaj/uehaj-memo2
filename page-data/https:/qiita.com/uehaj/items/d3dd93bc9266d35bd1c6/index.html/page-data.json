{"componentChunkName":"component---src-templates-blog-template-js","path":"/https://qiita.com/uehaj/items/d3dd93bc9266d35bd1c6/index.html","result":{"data":{"site":{"siteMetadata":{"title":"Delog"}},"markdownRemark":{"html":"<p>JS(ES2015)でデフォルトカリー化を味わうためには、関数定義は以下のようにするものだ、と自分に言いきかせます。</p>\n<p><code class=\"language-text\">func = arg1 =&gt; arg2 =&gt; .. 関数本体</code></p>\n<p>たとえば、以下のように関数を定義して…</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">func = x =&gt; y =&gt; z =&gt; x+y+z;</code></pre></div>\n<p>呼び出しは以下のようにします。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">console.log(func(3)(4)(5)); // ==&gt; 12</code></pre></div>\n<p>これでOK。\nえ?呼び出しが煩雑だって?\nならば、以下のように$プロパティをFunctionに定義すると…</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">uncurry = (func) =&gt; {\n    return new Proxy(func,\n                     {\n                         apply(target, thisArg, argsList) {\n                             return argsList.reduce((last, arg)=&gt;{\n                                 return last.call(thisArg, arg);\n                             }, target);\n                         }\n                     }\n                    );\n};\n\n\nObject.defineProperty(Function.prototype, &quot;$&quot;, {\n    get: function() {return uncurry(this); },\n});</code></pre></div>\n<p>こんな風にできます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">console.log(func.$(3,4,5)); // ==&gt; 12 \nconsole.log(func(3).$(4,5)); // ==&gt; 12 \nconsole.log(func(3)(4).$(5)); // ==&gt; 12 \nconsole.log(func.$(3,4)(5)); // ==&gt; 12</code></pre></div>\n<p><code class=\"language-text\">$</code>はhaskellの$のイメージ。</p>\n<h1>追記</h1>\n<p>NPMパッケージ化しました。</p>\n<p><a href=\"https://www.npmjs.com/package/uncurry-apply\">https://www.npmjs.com/package/uncurry-apply</a></p>","frontmatter":{"date":"January 01, 1970","path":"/https://qiita.com/uehaj/items/d3dd93bc9266d35bd1c6/index.html","title":"JSでデフォルトカリー化","thumbnail":null,"metaDescription":null}}},"pageContext":{}}}